<!DOCTYPE html>
{% extends 'index.html'%}
{% block body_block %}
    <style>
        .shadow-custom {
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, .25), 0 3px 10px 5px rgba(0, 0, 0, 0.05) !important;
}
.files input {
    outline: 2px dashed #92b0b3;
    outline-offset: -10px;
    -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;
    transition: outline-offset .15s ease-in-out, background-color .15s linear;
    padding: 120px 0px 85px 35%;
    text-align: center !important;
    margin: 0;
    width: 100% !important;
}
.files input:focus{     outline: 2px dashed #92b0b3;  outline-offset: -10px;
    -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;
    transition: outline-offset .15s ease-in-out, background-color .15s linear; border:1px solid #92b0b3;
 }
.files{ position:relative}
.files:after {  pointer-events: none;
    position: absolute;
    top: 80px;
    left: 0;
    width: 50px;
    right: 0;
    height: 56px;
    content: "";
    background-image: url(https://image.flaticon.com/icons/png/128/109/109612.png);
    display: block;
    margin: 0 auto;
    background-size: 100%;
    background-repeat: no-repeat;
}
.color input{ background-color:#f1f1f1;}
.files:before {
    position: absolute;
    bottom: 0px;
    left: 0;  pointer-events: none;
    width: 100%;
    right: 0;
    height: 57px;
    content: " or drag it here. ";
    display: block;
    margin: 0 auto;
    color: #2ea591;
    font-weight: 600;
    text-transform: capitalize;
    text-align: center;
}

    </style>
    <div class="container-fluid">
        <center><h4><b>Hello User {{request.user.username}}</b></h4></center>
        <div class="jumbotron">
            <div class="row">
                <div class="col-2" >
                  <div class="nav flex-column nav-pills text-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active btn-block btn" id="v-pills-home-tab" data-mdb-toggle="pill" href="#v-pills-home"
                    role="tab" aria-controls="v-pills-home" aria-selected="true"><i class="fa fa-home" aria-hidden="true"></i> &nbsp;&nbsp; Home</a>
                    <a class="nav-link btn-block btn" id="v-pills-profile-tab" data-mdb-toggle="pill" href="#v-pills-profile"
                    role="tab" aria-controls="v-pills-profile" aria-selected="false"><i class="fa fa-user" aria-hidden="true"></i>&nbsp;&nbsp; Profile</a>
                    
                    <a class="nav-link btn-block btn" id="v-pills-points-tab" data-mdb-toggle="pill" href="#v-pills-points"
                    role="tab" aria-controls="v-pills-points" aria-selected="false"><i class="fa fa-database" aria-hidden="true"></i>&nbsp;&nbsp; Points</a>
                    
                    <a class="nav-link btn-block btn" id="v-pills-task-tab" data-mdb-toggle="pill" href="#v-pills-task"
                    role="tab" aria-controls="v-pills-task" aria-selected="false"><i class="fa fa-calendar-o" aria-hidden="true"></i>&nbsp;&nbsp; Task</a>
                    <a class="nav-link btn-block btn" href="{% url 'logout_admin' %}"><i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp; Logout</a>
                  </div>
                </div>
                <div class="col-sm-1"></div>
                <div class="col-9" style="background-color: white;">
                    <div class="tab-content" id="v-pills-tabContent">
                        <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                            <br/>
                            {% for ad in app_detail %}
                            <div class="card" style="background-color: azure;">
                                <div class="card-body">
                                    <p class="card-text">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <img id='app_picture' src="{{ad.app_pic.url}}" alt="{{ad.app_pic}}" class="img-fluid" />
                                            </div>
                                            <div class="col-sm-6" style="margin-top: 40px;">
                                                <h3>{{ad.app_name}}</h3>
                                                <p style="color: blue;">
                                                    <a href="" class="btn-block" data-mdb-toggle="modal" data-mdb-target="#appdetail{{ad.id}}" data-mdb-dismiss="modal"> <u> View in Detail </u></a>
                                                  <!-- <a href="{{ad.app_url}}" target="_blank"> <u> {{ad.app_url}} </u></a> -->
                                                </p>
                                            </div>
                                            <div class="col-sm-3 text-center" style="margin-top: 50px;">
                                                <button class="btn btn-light ">{{ad.app_points}} POINTS</button>
                                            </div>
                                        </div>
                                    </p>
                                </div>
                            </div>
                            <br/>
                            <div class="modal fade" id="appdetail{{ad.id}}" data-mdb-backdrop="static" data-mdb-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabel">App Detail</h5>
                                            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="card" style="background-color: azure;">
                                                <div class="card-body">
                                                    <p class="card-text">
                                                        <div class="row">
                                                            <div class="col-sm-3">
                                                                <img id='app_picture' src="{{ad.app_pic.url}}" alt="{{ad.app_pic}}" class="img-fluid" />
                                                            </div>
                                                            <div class="col-sm-6" style="margin-top: 40px;">
                                                                <h3>{{ad.app_name}}</h3>
                                                                <p style="color: blue;">
                                                                    <a href="{{ad.app_url}}" target="_blank"><u>{{ad.app_url}}</u></a>
                                                                    <!-- <a href="{{ad.app_url}}" target="_blank"> <u> {{ad.app_url}} </u></a> -->
                                                                </p>
                                                            </div>
                                                            <div class="col-sm-3 text-center" style="margin-top: 50px;">
                                                                <button class="btn btn-light ">{{ad.app_points}} POINTS</button>
                                                            </div>
                                                            <form action="" method="post" enctype="multipart/form-data">
                                                                {% csrf_token %}
                                                                <div class="form-group files">
                                                            <br />

                                                                    <label>Upload app image </label>
                                                                    <input type="file" class="form-control" name="file" id="js-upload-files" id="drop-zone">
                                                                </div>
                                                                <input type="hidden" class="form-control" name="hidden" id="hidden1" value="app_pic">
                                                                <input type="submit" class="btn btn-primary" value="Submit"></button>
                                                            </form>
                                                        </div>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% if not app_detail %}
                                <h1>No task found</h1>
                            {%endif%}
                        </div>
                    <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                        <br/>
                        <div class="container">
                            <div class="main-body">
                                    <div class="col-md-12">
                                        <div class="card mb-3">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-sm-3">
                                                        <h6 class="mb-0">Full Name</h6>
                                                    </div>
                                                    <div class="col-sm-9 text-secondary">
                                                        {{user_detail.full_name}}
                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-3">
                                                        <h6 class="mb-0">Email</h6>
                                                    </div>
                                                    <div class="col-sm-9 text-secondary">
                                                        {{user_detail.email}}

                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-3">
                                                        <h6 class="mb-0">Mobile</h6>
                                                    </div>
                                                    <div class="col-sm-9 text-secondary">
                                                        {{user_detail.mobile}}
                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-3">
                                                        <h6 class="mb-0">Address</h6>
                                                    </div>
                                                    <div class="col-sm-9 text-secondary">
                                                        {{user_detail.address}}
                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <button class="btn btn-light" data-mdb-toggle="modal" data-mdb-target="#editdetail" data-mdb-dismiss="modal">Edit</button>
                                                    </div>
                                                    <!--Edit User Detail Model  -->
                                                    <div class="modal fade" id="editdetail" data-mdb-backdrop="static" data-mdb-keyboard="false"
                                                    tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                        <div class="modal-dialog modal-dialog-centered modal-lg">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title" id="staticBackdropLabel">Edit Detail</h5>
                                                                    <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <form action="" method="post">
                                                                        {% csrf_token %}
                                                                        <div class="row">
                                                                            <div class="col-sm-6">
                                                                                <p>
                                                                                    <label>Full Name</label>

                                                                                    <input type="text" class="form-control" name="fullname" id="fullname4" value="{{user_detail.full_name}}" required>
                                                                                </p>
                                                                            </div>
                                                                            <div class="col-sm-6">
                                                                                <p>
                                                                                    <label>Email</label>
                                                                                    <input type="email" class="form-control" name="email" id="email" value="{{user_detail.email}}" disabled>
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-sm-6">
                                                                                <p>
                                                                                    <label>Address</label>
                                                                                    <input type="text" class="form-control" name="address" id="address" value="{{user_detail.address}}" required>
                                                                                </p>
                                                                            </div>
                                                                            <div class="col-sm-6">
                                                                                <p>
                                                                                    <label>Mobile No.</label>
                                                                                    <input type="text" class="form-control" name="mobile" id="mobile" value="{{user_detail.mobile}}" required>
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                        <input type="hidden" class="form-control" name="hidden" id="hidden4" value="editdetail">
                                                                        <input type="submit" class="btn btn-primary" value="Submit"></button>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>  
                                                    <!-- End Edit User Detail Model -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <br/>
                    <div class="tab-pane fade" id="v-pills-points" role="tabpanel" aria-labelledby="v-pills-points-tab">
                            {% for ad in points %}
                            <div class="card" style="background-color: azure;">
                                <div class="card-body">
                                    <p class="card-text">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <img id='app_picture' src="{{ad.app_pic.url}}" alt="{{ad.app_pic}}" class="img-fluid" />
                                            </div>
                                            <div class="col-sm-6" style="margin-top: 40px;">
                                                <h3>{{ad.app_name}}</h3>
                                                <p style="color: blue;">
                                                    <a href="{{ad.app_url}}" target="_blank"><u>{{ad.app_url}}</u></a>
                                                  <!-- <a href="{{ad.app_url}}" target="_blank"> <u> {{ad.app_url}} </u></a> -->
                                                </p>
                                            </div>
                                            <div class="col-sm-3 text-center" style="margin-top: 50px;">
                                                <button class="btn btn-light ">{{ad.app_points}} POINTS</button>
                                            </div>
                                        </div>
                                    </p>
                                </div>
                            </div>
                            <br/>
                            
                            {% endfor %}
                            {% if not points %}
                                <h1>No points Earned</h1>
                            {%endif%}
                    </div>
                    <div class="tab-pane fade" id="v-pills-task" role="tabpanel" aria-labelledby="v-pills-task-tab">
                        {% for ad in points %}
                            <div class="card" style="background-color: azure;">
                                <div class="card-body">
                                    <p class="card-text">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <img id='app_picture' src="{{ad.app_pic.url}}" alt="{{ad.app_pic}}" class="img-fluid" />
                                            </div>
                                            <div class="col-sm-6" style="margin-top: 40px;">
                                                <h3>{{ad.app_name}}</h3>
                                                <p style="color: blue;">
                                                    <a href="{{ad.app_url}}" target="_blank"><u>{{ad.app_url}}</u></a>
                                                </p>
                                            </div>
                                            <div class="col-sm-3 text-center" style="margin-top: 50px;">
                                                <button class="btn btn-light ">{{ad.app_points}} POINTS</button>
                                            </div>
                                        </div>
                                    </p>
                                </div>
                            </div>
                            <br/>
                            
                            {% endfor %}
                            {% if not points %}
                                <h1>No Task completed</h1>
                            {%endif%}
                    </div>
                </div>
                </div>
                </div>
            </div>
        </div>
    </div>
    
{% endblock %}
